<div id="register" fxLayout="column">

    <div id="register-form-wrapper" fxLayout="column" fxLayoutAlign="center center">

        <div id="register-form" [@animate]="{value:'*',params:{duration:'300ms',y:'100px'}}">

            <div class="logo">
                <img src="assets/images/logos/logo2.png">
            </div>

            <div class="title">CREATE A USER ACCOUNT</div>
            <div class="content-card">
                <div class="content p-24" fusePerfectScrollbar>
                    <form name="registerForm" [formGroup]="registerForm" class="user w-100-p" fxLayout="column" fxFlex>
                        <div fxLayout="row wrap" fxLayoutAlign="center">

                            <div fxFlex="100" fxFlex.gt-xs="100" fxFlex.gt-sm="100" class="p-12">
                                <div fxLayoutAlign="center">
                                    <button mat-raised-button type="button"
                                            class="save-user-button"
                                            (click)="fileInput1.click()">
                                        <span>Upload User Photo</span>
                                    </button>
                                </div>
                                <div fxLayoutAlign="center" class="p-24">
                                    <div style="width:250px;">
                                        <img *ngIf="avatar_url" class="profile-icon" style="width: 100%; height: 100%;" [src]="avatar_url" [alt]="'Photo'"/>
                                        <input hidden type="file" id="FileInput1" accept="image/*" (change)="selectAvatar($event, 1)" #fileInput1>
                                        <input type="hidden" name="fileHidden" formControlName="avatar"/>
                                    </div>
                                </div>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>Username</mat-label>
                                    <input matInput placeholder="Username" name="name" formControlName="name" required>
                                    <mat-error>
                                        Username is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>Email</mat-label>
                                    <mat-icon matSuffix class="secondary-text">email</mat-icon>
                                    <input name="email" formControlName="email" matInput type="email"
                                           placeholder="xxx@xxx.com" required>
                                    <mat-error *ngIf="registerForm.get('email').hasError('required')">
                                        Email is required
                                    </mat-error>
                                    <mat-error *ngIf="registerForm.get('email').hasError('email')">
                                        Please enter a valid email address
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>Password</mat-label>
                                    <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
                                    <input name="password" type="password" formControlName="password" matInput>
                                    <mat-error>
                                        Password is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>Password (Confirm)</mat-label>
                                    <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
                                    <input type="password" formControlName="passwordConfirm" matInput>
                                    <mat-error *ngIf="registerForm.get('passwordConfirm').hasError('required')">
                                        Password confirmation is required
                                    </mat-error>
                                    <mat-error *ngIf="!registerForm.get('passwordConfirm').hasError('required') &&
                                               registerForm.get('passwordConfirm').hasError('passwordsNotMatching')">
                                        Passwords must match
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>First Name</mat-label>
                                    <input name="firstName" formControlName="firstName" placeholder="First Name"
                                           matInput required>
                                    <mat-error>
                                        FirstName is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>Last Name</mat-label>
                                    <!--<mat-icon matSuffix class="secondary-text">account_circle</mat-icon>-->
                                    <input name="lastName" formControlName="lastName" placeholder="Last Name" matInput
                                           required>
                                    <mat-error>
                                        LastName is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>Phone Number * </mat-label>
                                    <mat-icon matSuffix class="secondary-text">phone</mat-icon>
                                    <input name="phone" formControlName="phone" matInput placeholder="000-000-0000">
                                    <mat-error>
                                        Phone Number is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>Street * </mat-label>
                                    <mat-icon matSuffix class="secondary-text">domain</mat-icon>
                                    <input name="street" formControlName="street" matInput placeholder="Street">
                                    <mat-error>
                                        Street is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>Apt/Unit </mat-label>
                                    <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                                    <input name="apt_unit" formControlName="apt_unit" matInput placeholder="Apartment/Unit">
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>City * </mat-label>
                                    <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                                    <input name="city" formControlName="city" matInput placeholder="City">
                                    <mat-error>
                                        City is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>State * </mat-label>
                                    <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                                    <input name="state" formControlName="state" matInput placeholder="State">
                                    <mat-error>
                                        State is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                                <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                                    <mat-label>Zip Code * </mat-label>
                                    <mat-icon matSuffix class="secondary-text">location_city</mat-icon>
                                    <input name="zip_code" formControlName="zip_code" matInput placeholder="Zip Code">
                                    <mat-error>
                                        Zip Code is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-sm="50" class="p-12">
                            </div>
                        </div>

                        <button mat-raised-button color="accent" class="submit-button" aria-label="CREATE AN ACCOUNT"
                                [disabled]="registerForm.invalid" (click)="onSubmit()">
                            CREATE AN ACCOUNT
                        </button>

                        <div *ngIf="errorMsg" class="loginerror" fxLayout="row" fxLayout.xs="column"
                             fxLayoutAlign="space-between center">
                            <mat-error style="margin:auto">
                                {{errorMsg}}
                            </mat-error>
                        </div>
                    </form>
                </div>
            </div>

            <div class="register" fxLayout="column" fxLayoutAlign="center center">
                <span class="text">Already have an account?</span>
                <a class="link" [routerLink]="'/auth/login'">Login</a>
            </div>

        </div>

    </div>

</div>
